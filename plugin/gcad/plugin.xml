<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>

<extension 
	point="org.eclipse.ui.perspectives">
   <perspective
         name="%perspective.name"
         class="presentation.KMPerspective"
         id="gcad.perspective.KMPerspective">
   </perspective>
</extension>
<extension
      point="org.eclipse.ui.views">
   <category
         id="gcad.category.view.userInformation"
         name="%category.view.user">
   </category>
   <view
         category="gcad.category.view.userInformation"
         class="presentation.views.UserInfView"
         id="gcad.view.UserInformation"
         name="%view.user"
         restorable="true">
   </view>
   <category
         id="gcad.category.view.proposal"
         name="%category.view.proposals">
   </category>
   <view
         category="gcad.category.view.proposal"
         class="presentation.views.HierarchicalView"
         id="gcad.view.proposals"
         name="%view.proposals"
         restorable="true">
   </view>
   <category
         id="gcad.category.view.graph"
         name="%category.view.graph">
   </category>
   <view
         category="gcad.category.view.graph"
         class="presentation.views.GraphView"
         id="gcad.view.graph"
         name="%view.graph"
         restorable="true">
   </view>
</extension>
<extension
      point="org.eclipse.ui.startup">
   <startup
         class="presentation.handlers.Startup">
   </startup>
</extension>
<extension
         point="org.eclipse.ui.commands">
      <category
            name="%category.menu.knowledge"
            id="gcad.category.menu.knowledge">
      </category>
      <command
            name="%command.newProposal"
            categoryId="gcad.category.menu.knowledge"
            id="gcad.command.newProposal">
      </command>
      <command
            categoryId="gcad.category.menu.knowledge"
            id="gcad.command.modifyProposal"
            name="%command.modifyProposal">
      </command>
      <command
            categoryId="gcad.category.menu.knowledge"
            id="gcad.command.deleteProposal"
            name="%command.deleteProposal">
      </command>
      <command
            categoryId="gcad.category.menu.knowledge"
            id="gcad.command.newAnswer"
            name="%command.newAnswer">
      </command>
      <command
            categoryId="gcad.category.menu.knowledge"
            id="gcad.command.newTopic"
            name="%command.newTopic">
      </command>
      <command
            categoryId="gcad.category.menu.knowledge"
            id="gcad.command.modifyAnswer"
            name="%command.modifyAnswer">
      </command>
      <command
            categoryId="gcad.category.menu.knowledge"
            id="gcad.command.deleteAnswer"
            name="%command.deleteAnswer">
      </command>
      <category
            id="gcad.category.menu.databaseInformation"
            name="%category.menu.DBInformation">
      </category>
      <command
            categoryId="gcad.category.menu.databaseInformation"
            id="gcad.command.insertDBInformation"
            name="%command.insertDBData">
      </command>
      <category
            id="gcad.category.menu.session"
            name="%category.menu.session">
      </category>
      <command
            categoryId="gcad.category.menu.session"
            id="gcad.command.login"
            name="%command.login">
      </command>
      <command
            categoryId="gcad.category.menu.session"
            id="gcad.command.signout"
            name="%command.signout">
      </command>
</extension>
   
<extension
         point="org.eclipse.ui.handlers">
      <handler
            commandId="gcad.command.newProposal"
            class="presentation.handlers.NewProposalHandler">
      </handler>
      <handler
            commandId="gcad.command.modifyProposal">
      </handler>
      <handler
            commandId="gcad.command.deleteProposal">
      </handler>
      <handler
            class="presentation.handlers.NewAnswerHandler"
            commandId="gcad.command.newAnswer">
      </handler>
      <handler
            commandId="gcad.command.modifyAnswer">
      </handler>
      <handler
            commandId="gcad.command.deleteAnswer">
      </handler>
      <handler
            class="presentation.handlers.NewTopicHandler"
            commandId="gcad.command.newTopic">
      </handler>
      <handler
            class="presentation.handlers.NewDBInformationHandler"
            commandId="gcad.command.insertDBInformation">
      </handler>
      <handler
            class="presentation.handlers.LoginHandler"
            commandId="gcad.command.login">
      </handler>
      <handler
            class="presentation.handlers.SignoutHandler"
            commandId="gcad.command.signout">
      </handler>
</extension>
     
<extension
         point="org.eclipse.ui.menus">
      <menuContribution
            locationURI="menu:org.eclipse.ui.main.menu">
         <menu
               label="%category.menu.knowledge"
               id="gcad.menus.knowledgeMenu">
            <command
                  commandId="gcad.command.newProposal"
                  id="gcad.menus.newProposal">
               <visibleWhen
                     checkEnabled="false">
                  <with
                        variable="NewProposal">
                     <equals
                           value="ENABLED">
                     </equals>
                  </with>
               </visibleWhen>
            </command>
            <command
                  commandId="gcad.command.modifyProposal"
                  id="gcad.menus.modifyProposal">
               <visibleWhen
                     checkEnabled="false">
                  <with
                        variable="ModifyProposal">
                     <equals
                           value="ENABLED">
                     </equals>
                  </with>
               </visibleWhen>
            </command>
            <command
                  commandId="gcad.command.deleteProposal"
                  id="gcad.menus.deleteProposal">
               <visibleWhen
                     checkEnabled="false">
                  <with
                        variable="DeleteProposal">
                     <equals
                           value="ENABLED">
                     </equals>
                  </with>
               </visibleWhen>
            </command>
            <separator
                  name="gcad.separator1">
            </separator>
            <command
                  commandId="gcad.command.newAnswer"
                  id="gcad.menus.newAnswer">
               <visibleWhen
                     checkEnabled="false">
                  <with
                        variable="NewAnswer">
                     <equals
                           value="ENABLED">
                     </equals>
                  </with>
               </visibleWhen>
            </command>
            <command
                  commandId="gcad.command.modifyAnswer"
                  id="gcad.menus.modifyAnswer">
               <visibleWhen
                     checkEnabled="false">
                  <with
                        variable="ModifyAnswer">
                     <equals
                           value="ENABLED">
                     </equals>
                  </with>
               </visibleWhen>
            </command>
            <command
                  commandId="gcad.command.deleteAnswer"
                  id="gcad.menus.deleteAnswer">
               <visibleWhen
                     checkEnabled="false">
                  <with
                        variable="DeleteAnswer">
                     <equals
                           value="ENABLED">
                     </equals>
                  </with>
               </visibleWhen>
            </command>
            <separator
                  name="gcad.separator1">
            </separator>
            <command
                  commandId="gcad.command.newTopic"
                  id="gcad.menus.newTopic"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <with
                        variable="NewTopic">
                     <equals
                           value="ENABLED">
                     </equals>
                  </with>
               </visibleWhen>
            </command>
         </menu>
         <menu
               id="gcad.menus.DBMenu"
               label="%category.menu.DBInformation">
            <command
                  commandId="gcad.command.insertDBInformation"
                  id="gcad.menus.newDBInformation">
               <visibleWhen
                     checkEnabled="false">
                  <with
                        variable="NewProject">
                     <equals
                           value="ENABLED">
                     </equals>
                  </with>
               </visibleWhen>
            </command>
         </menu>
         <menu
               id="gcad.menus.session"
               label="%category.menu.session">
            <command
                  commandId="gcad.command.login"
                  id="gcad.menus.login">
            </command>
            <separator
                  name="gcad.separator2">
            </separator>
            <command
                  commandId="gcad.command.signout"
                  id="gcad.menus.signOut">
               <visibleWhen
                     checkEnabled="false">
                  <with
                        variable="SignOut">
                     <equals
                           value="ENABLED">
                     </equals>
                  </with>
               </visibleWhen>
            </command>
         </menu>
     </menuContribution>
</extension>
<extension
      point="org.eclipse.ui.services">
   <sourceProvider
         provider="gcad.SourceProvider">
      <variable
            name="gcad.menus.visibleWhenPermission"
            priorityLevel="workbench">
      </variable>
   </sourceProvider>
</extension>   
</plugin>
