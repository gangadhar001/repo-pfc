\chapter{Manual de Instalación y Configuración del Entorno}
\label{appendix:manualEntorno}

En este anexo se detallan los requisitos del sistema, así como los pasos a seguir para instalar y configurar el entorno de ejecución del sistema desarrollado.

\section{Requisitos del sistema}

Los dos subsistemas que conforman el sistema final se han desarrollado bajo el lenguaje de programación Java para hacer posible su portabilidad entre distintos sistemas, siempre y cuando éstos tengan instalada una máquina virtual de Java. De este modo, las aplicaciones son compatibles tanto en entornos basados en Windows 98/NT/XP/Vista/7, como en entornos GNU/Linux.

Como requisitos para la ejecución del sistema se debe contar con una instalación de Java, en su versión 1.6, y de una base de datos bajo MySQL. En el siguiente apartado se describe como llevar a cabo la instalación y configuración de los componentes mencionados.

\section{Instalación y configuración de los entornos}

Las máquinas destinadas a soportar los sistemas gestores de bases de datos deberán tener instalado como servicio el servidor MySQL, y las máquinas sobre las cuales se ejecutarán las distintas aplicaciones cliente o servidor deberán tener instalado el entorno de ejecución de Java. A continuación se dan instrucciones de cómo instalar y configurar los entornos en sistemas basados en Windows.

\subsection{Entorno de Java}

Para comprobar si ya se dispone de una instalación del entorno de ejecución de Java en el equipo y que está configurado correctamente, se abre una ventana de comandos ( \textit{(Inicio -\textgreater Ejecutar -\textgreater cmd)}) y se escribe ``java -version''. Si se obtiene un resultado similar al de la Figura \ref{fig:java-version} significa que Java está instalado y configurado correctamente en el equipo. Aunque es necesario asegurarse que la versión de Java es la 1.6.

\imagenBorde{Apendices/Manual//java-version}{0.80}{Cómo averiguar la versión de Java}{fig:java-version}

Si por el contrario aparece un mensaje de error, se pueden realizar las siguientes acciones: 
\begin{itemize}
	\item Comprobar que exista el directorio Java en \textit{C:\textbackslash Archivos de programa} (típicamente). Si está instalado, es necesario configurarlo correctamente como se indica posteriormente.
	\item Si no existe dicho directorio, es necesario descargar e instalar la versión 1.6 de Java SE Development Kit (JDK), en la dirección \cite{download-jdk}.
\end{itemize}

En este último caso, una vez descargado el archivo, se ejecuta y se elige el directorio de instalación, siguiendo los pasos que el instalador indica hasta completar la instalación. Tras instalar Java, es necesario configurar el entorno. Para ello, debe crearse una nueva variable de sistema, llamada JAVA\_HOME, que haga referencia al directorio de binarios de Java, el cuál típicamente es:  \texttt{C:\textbackslash Archivos de programa\textbackslash Java\textbackslash jdk1.x.x\_xx\textbackslash bin}, donde ``x'' hace referencia a la versión que se tiene instalada de Java. Además, dicho directorio debe incluirse también en la variable PATH del sistema.

Para acceder a las variables de entorno y del sistema, en un equipo con Windows Vista/7, se debe hacer clic derecho sobre \textit{Equipo}, seleccionar \textit{Propiedades}, posteriormente elegir \textit{Configuración avanzada del sistema} y en la pestaña de \textit{Opciones avanzadas} de la ventana que se abre, crear la nueva variable JAVA\_HOME (como se muestra en la Figura \ref{fig:javahome}) y editar la variable PATH, incluyendo el directorio anteriormente mencionado.

\imagenBorde{Apendices/Manual//javahome}{0.60}{Variable de sistema JAVA\_HOME}{fig:javahome}

Con ello, Java queda correctamente instalado y configurado en el equipo. Para cerciorarse, se puede ejecutar nuevamente el comando ``java -version''


\subsection{Servidor MySQL}

En primer lugar, se procede a la instalación del sistema gestor de base de datos MySQL. Para ello, se realiza la descarga de la aplicación de la dirección \cite{download-mysql} y se ejecuta el archivo una vez descargado, siguiendo los pasos necesarios hasta completar la instalación. Con ello, queda instalado el servidor MySQL.

A continuación, es necesario configurar la base de datos utilizada en el sistema, así como el usuario que puede acceder y operar con dicha base de datos. Para ello, se puede descargar e instalar el \textit{toolkit} MySQL Workbench del sitio \cite{download-workbench}, que contiene la aplicación \textit{MySQL Administrator}, entre otras.

Se ejecuta MySQL Administrator y se introducen los datos de conexión al servidor MySQL instalado en el paso anterior, como se muestra en la Figura \ref{fig:mysql-admin-connection-settings}.

\imagen{Apendices/Manual//mysql-administrator1.png}{0.60}{Conexión de MySQL Administrator con el servidor MySQL}{fig:mysql-admin-connection-settings}

Si se ha introducido correctamente la dirección IP del servidor, el nombre del usuario y la contraseña, se abrirá una nueva ventana desde la cual se podrá configurar cualquier aspecto relacionado con el servidor MySQL. En este caso, para la creación de la base de datos y su usuario asociado, se deben seguir los siguientes pasos:

\begin{enumerate}
	\item En la barra de menús de la parte superior de MySQL Administrator, se debe seleccionar \textit{Tools -\textgreater{} MySQL Query Browser}, abriendo una nueva aplicación.
	\item En la nueva ventana, elegir \textit{File -\textgreater{} Open Script...}. Se mostrará un cuadro de diálogo en el que se tendrá que cargar el fichero \textbf{installDB.sql} proporcionado junto al sistema.
	\item A continuación, se pulsa el botón \textit{Execute} que se encuentra en la barra de herramientas, creando de este modo la base de datos y el usuario que puede operar con ella, con todos sus permisos adecuados.
\end{enumerate}

%\imagen{Apendices/Manual//mysql-administrator2.png}{0.50}{Creación de la base de datos con MySQL Query Browser}{fig:query}

Con ello, queda instalado el servidor MySQL y configurada la base de datos que va a utilizarse y gestionarse con el sistema DPMTool. Recordar que es necesario iniciar el servicio de MySQL antes de activar el servidor del sistema.