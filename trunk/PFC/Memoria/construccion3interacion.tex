\subsection{Tercera iteración} 

Durante esta iteración, se diseñan, implementan y prueban los casos de uso que componen la funcionalidad de \textit{Gestión de proyectos}, mostrados en la Figura \ref{fig:CduGestionProyectos2Server}.

\subsubsection{Funcionalidad de \textit{Gestión de proyectos}}

\paragraph{Diagramas de secuencia}

En los siguientes apartados se muestran los diagramas de secuencia para el cliente y servidor de los casos de uso que componen esta funcionalidad. Dichos diagramas se modelan siguiendo la descripción de los casos de uso realizada en el apartado \ref{sec:analisis}.

\subparagraph{Consultar proyectos}

En la Figura \ref{fig:secuenciaConsultarProyectosCliente} se muestra el diagrama de secuencia para el caso de uso \textit{Consultar proyectos} en el cliente, mientras que en la Figura \ref{fig:secuenciaConsultarProyectosServer} se muestra el diagrama de secuencia para el servidor.

\imagen{Cap5/Cliente2//secuenciaConsultarProyectosCliente}{0.6}{Diagrama de secuencia - Cliente - Consultar proyectos}{fig:secuenciaConsultarProyectosCliente}

\imagen{Cap5/Server2//secuenciaConsultarProyectosServer}{2.0}{Diagrama de secuencia - Servidor - Consultar proyectos}{fig:secuenciaConsultarProyectosServer}


\subparagraph{Consultar usuarios}

En la Figura \ref{fig:secuenciaConsultarUsuariosCliente} se muestra el diagrama de secuencia para el caso de uso \textit{Consultar usuarios} en el cliente, mientras que en la Figura \ref{fig:secuenciaConsultarUsuariosServer} se muestra el diagrama de secuencia para el servidor.

\imagen{Cap5/Cliente2//secuenciaConsultarUsuariosCliente}{0.6}{Diagrama de secuencia - Cliente - Consultar usuarios}{fig:secuenciaConsultarUsuariosCliente}

\imagen{Cap5/Server2//secuenciaConsultarUsuariosServer}{2.0}{Diagrama de secuencia - Servidor - Consultar usuarios}{fig:secuenciaConsultarUsuariosServer}


\subparagraph{Crear proyecto}

En la Figura \ref{fig:secuenciaCrearProyectosCliente} se muestra el diagrama de secuencia para el caso de uso \textit{Crear proyecto} en el cliente, mientras que en la Figura \ref{fig:secuenciaCrearProyectosServer} se muestra el diagrama de secuencia para el servidor. 

En este caso, se incluye el comportamiento del caso de uso \textit{consultar usuarios}, por lo que ese comportamiento se muestra de manera simplificada en este diagrama de secuencia.

\imagen{Cap5/Cliente2//secuenciaCrearProyectosCliente}{0.6}{Diagrama de secuencia - Cliente - Crear proyecto}{fig:secuenciaCrearProyectosCliente}

\imagen{Cap5/Server2//secuenciaCrearProyectosServer}{2.0}{Diagrama de secuencia - Servidor - Crear proyecto}{fig:secuenciaCrearProyectosServer}

\subparagraph{Modificar proyecto}

En la Figura \ref{fig:secuenciaModificarProyectoCliente} se muestra el diagrama de secuencia para el caso de uso \textit{Consultar proyectos} en el cliente, mientras que en la Figura \ref{fig:secuenciaModificarProyectoServer} se muestra el diagrama de secuencia para el servidor. 

En este caso, se incluye el comportamiento de los casos de uso \textit{consultar proyectos} y \textit{consultar usuarios}, por lo que dichos comportamientos se muestran de manera simplificada en este diagrama de secuencia.

\imagen{Cap5/Cliente2//secuenciaModificarProyectoCliente}{0.6}{Diagrama de secuencia - Cliente - Modificar proyecto}{fig:secuenciaModificarProyectoCliente}

\imagen{Cap5/Server2//secuenciaModificarProyectoServer}{2.0}{Diagrama de secuencia - Servidor - Modificar proyecto}{fig:secuenciaModificarProyectoServer}


\subparagraph{Seleccionar proyecto activo}

En la Figura \ref{fig:secuenciaProyectoActivoCliente} se muestra el diagrama de secuencia para el caso de uso \textit{Consultar proyectos} en el cliente, mientras que en la Figura \ref{fig:secuenciaConsultarProyectosServer} se muestra el diagrama de secuencia para el servidor.

En este caso, se incluye el comportamiento del caso de uso \textit{consultar proyectos}, por lo que ese comportamiento se muestra de manera simplificada en este diagrama de secuencia.

\imagen{Cap5/Cliente2//secuenciaProyectoActivoCliente}{0.6}{Diagrama de secuencia - Cliente - Seleccionar proyecto activo}{fig:secuenciaProyectoActivoCliente}

\imagen{Cap5/Server2//secuenciaProyectoActivoServer}{2.0}{Diagrama de secuencia - Servidor - Seleccionar proyecto activo}{fig:secuenciaProyectoActivoServer}


\subparagraph{Aconsejar decisiones}

En la Figura \ref{fig:secuenciaConsultarProyectosCliente} se muestra el diagrama de secuencia para el caso de uso \textit{Consultar proyectos} en el cliente, mientras que en la Figura \ref{fig:secuenciaConsultarProyectosServer} se muestra el diagrama de secuencia para el servidor.

%\imagen{Cap5/Cliente2//secuenciaConsultarProyectosCliente}{0.6}{Diagrama de secuencia - Cliente - Consultar proyectos}{fig:secuenciaConsultarProyectosCliente}

%\imagen{Cap5/Server2//secuenciaConsultarProyectosServer}{2.0}{Diagrama de secuencia - Servidor - Consultar proyectos}{fig:secuenciaConsultarProyectosServer}


\paragraph{Diseño e implementación} \label{sec:gestionProyectos}

\subparagraph{Servidor}

Como se comentó en el modelo de negocio en el apartado \ref{modeloDominio}, cada usuario trabaja en 1 o más proyectos, y en cada proyecto participan varios usuarios. Por ello, como se muestra en los diagramas de secuencia anteriores, para crear y modificar un proyecto, hay que asignar los usuarios que en dicho proyecto trabajan. En el diagrama de la Figura \ref{fig:clasesGestionProyecto} se observan las clases que participan en la gestión de proyectos y las asociaciones que existen entre los usuarios y los proyectos, y sus clases controladoras correspondientes.

Sin embargo, en esta funcionalidad lo que cabe destacar es el diseño e implementación del caso de uso de \textit{Aconsejar decisiones}.

%% EXPLICAR EL CBR Y SUS ALGORITMOS

\subparagraph{Cliente}

%% EXPLICAR COMO CONFIGURAR EL CBR

\paragraph{Pruebas}